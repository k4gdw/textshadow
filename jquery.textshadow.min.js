(function(b,y,d){var a=true,l=/([\d+.\-]+[a-z%]*)\s*([\d+.\-]+[a-z%]*)\s*([\d+.\-]+[a-z%]*)?\s*([#a-z]*.*)?/,h=/(rgb|hsl)a?\(\s*(\d+)\s*,\s*(\d+)%?\s*,\s*(\d+)%?(?:\s*,\s*([\.\d]+))?/,g="progid:DXImageTransform.Microsoft.",c="\u2063",v=/\u2063/g,n=/([\(\[\{])/g,k=/([\)\]\}%\u00c2\u00b0\!\?\u2014])/g,m=/([-\u2013])/g,w=/[\s\u2063]/,i=/(\s*)/g;b.fn.textshadow=function(c,d){if(typeof c==="object"&&!d){d=c;c=null}var g=d||{},e=g.useStyle===false?false:a;return this.each(function(){var a=".ui-text-shadow-copy",g=b(this),d;d=g.find(a);if(!d.length){f(this);d=g.find(a)}e&&j(d,c)})};function f(c){b(c).contents().each(function(){var c=this;if(c.nodeType===3&&c.data){p(c);return a}var d=b(c);if(c.nodeType===1&&(!d.hasClass("ui-text-shadow")||!d.hasClass("ui-text-shadow-original")||!d.hasClass("ui-text-shadow-copy"))){f(c);return a}})}function p(g){var o,e,h,j,d=g.nodeValue,f=0;if(!d)return;d=d.replace(n,c+"$1").replace(k,"$1"+c).replace(m,c+"$1"+c);o=d.split(w);d=d.replace(v,"");var l=document.createDocumentFragment();b.each(o,function(){e=this.length;if(!e)return a;i.lastIndex=f+e;h=i.exec(d);j=t(d.substr(f,e+h[1].length));j!==null&&l.appendChild(j);f=f+e+h[1].length});g.parentNode.replaceChild(l.cloneNode(a),g)}var o=b('<span class="ui-text-shadow" />')[0],s=b('<span class="ui-text-shadow-original" />')[0],q=b('<span class="ui-text-shadow-copy" />')[0];function t(b){if(!b.length)return null;var a=o.cloneNode(),d=s.cloneNode(),c=q.cloneNode();a.appendChild(c);a.appendChild(d);d.appendChild(document.createTextNode(b));c.appendChild(document.createTextNode(b));return a}function j(c,e){c.each(function(){var f="text-shadow",k=this,h=e||k.currentStyle[f],q=b(k),i=k.parentNode;while((!h||h==="none")&&i.nodeName!=="HTML"){h=i.currentStyle[f];i=i.parentNode}if(!h||h==="none")return a;var c=l.exec(h),o,p,j,n,m;o=parseFloat(c[1]);p=parseFloat(c[2]);j=c[3]!==d?parseFloat(c[3]):0;n=c[4]!==d?x(c[4]):"inherit";m=r(c[4]);q.css({color:n,left:o-j+"px",top:p-j+"px"});k.style.filter=[g+"Alpha(","opacity="+parseInt(m*100,10),") ",g+"Blur(","pixelRadius="+j,")"].join("")})}function x(c){var a=h.exec(c),b;if(a&&a[1]==="hsl"){b=u(a[2],a[3],a[4]);a[2]=b[0];a[3]=b[1];a[4]=b[2]}return a?"#"+(1<<24|a[2]<<16|a[3]<<8|a[4]).toString(16).substr(1):c}function r(b){var a=h.exec(b);if(a)return a[5]!==d?a[5]:1;return 1}function u(j,c,a){var f,b,d,i,h,g;c/=100;a/=100;if(c===0)i=h=g=a*255;else{if(a<=.5)b=a*(c+1);else b=a+c-a*c;f=a*2-b;d=j/360;i=e(f,b,d+1/3);h=e(f,b,d);g=e(f,b,d-1/3)}return [i,h,g]}function e(b,d,a){var c;if(a<0)a+=1;else if(a>1)a-=1;if(6*a<1)c=b+(d-b)*a*6;else if(2*a<1)c=d;else if(3*a<2)c=b+(d-b)*(2/3-a)*6;else c=b;return 255*c}})(jQuery,this)